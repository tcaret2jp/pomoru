# 開発ロードマップ v2 (Page Expansion & Sync)

初期MVP（v1.0）の完成を受け、UI/ページ拡充を最優先とする新しいロードマップ。

## [v1.1] Phase 2: Page Expansion (UI First) - 進行中

### 2.1 データベース基盤 (完了)
- [x] **Supabase / Prisma (v6) のセットアップ**
- [x] **Google ログインの実装と特典付与ロジックの構築**

### 2.2 プラン案内ページの実装 (`/pricing`)
- [ ] **2.2.1 ページレイアウト作成**: Cron風のミニマルデザイン。
- [ ] **2.2.2 プラン比較表の実装**: Free, Premium, Early Adopter の機能差を可視化。
- [ ] **2.2.3 リアルタイム枠数表示**: `/api/stats/count` を再利用し、残り枠数を表示。

### 2.3 統計ダッシュボード UI の作成 (`/stats`)
- [ ] **2.3.1 レイアウト構築**: 集中時間、完了セッション数などを表示するカード配置。
- [ ] **2.3.2 グラフ表示 (Mock)**: Recharts 等を用いた視覚的フィードバックのダミー実装。
- [ ] **2.3.3 空状態のデザイン**: データがまだない時の親切な案内。

### 2.4 リーガルページの作成
- [ ] **2.4.1 利用規約 (`/terms`)**: シンプルで読みやすい規約ページ。
- [ ] **2.4.2 プライバシーポリシー (`/privacy`)**: データ保護方針の明記。

### 2.5 プロフィール詳細ページ (`/profile`)
- [ ] **2.5.1 ユーザー情報表示**: アバター、名前、登録日、バッジの大きな表示。
- [ ] **2.5.2 アカウント管理**: ログアウトやデータ削除（退会）への導線。

## [v1.2] Phase 3: Data Logic & Sync (機能実装)

### 3.1 設定の同期と永続化
- [ ] **Settings API の作成 (`src/app/api/settings/route.ts`)**
  - [ ] `GET`: ログインユーザーの設定を取得。
  - [ ] `PUT`: 設定をデータベースへ保存。
- [ ] **同期ロジックの実装**
  - [ ] ログイン時：DBから設定を読み込み、`localStorage` と同期。
  - [ ] 設定変更時：ログイン中なら DB と `localStorage` の両方を更新。

### 3.2 統計記録ロジック
- [ ] **セッション記録 API (`src/app/api/sessions/route.ts`)**
  - [ ] 作業完了時に自動で実績データを `Session` テーブルに保存。
- [ ] **実績集計 API (`src/app/api/stats/route.ts`)**
  - [ ] 日次・週次の集中時間を計算して返す。

## [v2.0] Phase 4: Polish & Launch (最終仕上げ)

### 4.1 PWA 対応
- [ ] `next-pwa` の導入とマニフェスト設定。
- [ ] アプリアイコンの整備。

### 4.2 最終デプロイ
- [ ] 本番環境（Vercel）での動作確認。
- [ ] パフォーマンス最適化（Lighthouse スコア改善）。
